{
  "fast_path_patterns": {
    "fast_nlu_patterns": {
      "\\b(hi|hello|hey|greetings|\u0645\u0631\u062d\u0628\u0627|\u0623\u0647\u0644\u0627|\u0627\u0644\u0633\u0644\u0627\u0645 \u0639\u0644\u064a\u0643\u0645)\\b": "greeting",
      "\\b(bye|goodbye|farewell|\u0648\u062f\u0627\u0639\u0627|\u0645\u0639 \u0627\u0644\u0633\u0644\u0627\u0645\u0629|\u0625\u0644\u0649 \u0627\u0644\u0644\u0642\u0627\u0621)\\b": "farewell",
      "\\b(thanks?|thank you|\u0634\u0643\u0631\u0627|\u0645\u062a\u0634\u0643\u0631|\u0645\u0645\u0646\u0648\u0646)\\b": "gratitude",
      "\\b(help|info|information|\u0645\u0639\u0644\u0648\u0645\u0627\u062a|\u0645\u0633\u0627\u0639\u062f\u0629|\u0625\u0632\u0627\u064a|\u0643\u064a\u0641)\\b": "help_request",
      "\\b(what can you do|what do you know|\u0627\u064a\u0647 \u0627\u0644\u0644\u064a \u062a\u0642\u062f\u0631|\u0627\u064a\u0647 \u062e\u062f\u0645\u0627\u062a\u0643)\\b": "capabilities",
      "\\b(pyramid|pyramids?|\u0647\u0631\u0645|\u0623\u0647\u0631\u0627\u0645\u0627\u062a|giza)\\b": "attraction_pyramids",
      "\\b(sphinx|\u0623\u0628\u0648 \u0627\u0644\u0647\u0648\u0644)\\b": "attraction_sphinx",
      "\\b(luxor|\u0627\u0644\u0623\u0642\u0635\u0631|temple|\u0645\u0639\u0628\u062f)\\b": "attraction_luxor",
      "\\b(karnak|\u0627\u0644\u0643\u0631\u0646\u0643)\\b": "attraction_luxor",
      "\\b(aswan|\u0623\u0633\u0648\u0627\u0646|dam|\u0627\u0644\u0633\u062f)\\b": "attraction_aswan",
      "\\b(abu simbel|\u0623\u0628\u0648 \u0633\u0645\u0628\u0644)\\b": "attraction_aswan",
      "\\b(alexandria|\u0627\u0644\u0625\u0633\u0643\u0646\u062f\u0631\u064a\u0629|library|\u0645\u0643\u062a\u0628\u0629)\\b": "attraction_alexandria",
      "\\b(hotel|accommodation|stay|\u0641\u0646\u062f\u0642|\u0625\u0642\u0627\u0645\u0629|\u0645\u0646\u062a\u062c\u0639)\\b": "service_hotel",
      "\\b(restaurant|food|eat|\u0645\u0637\u0639\u0645|\u0637\u0639\u0627\u0645|\u0623\u0643\u0644)\\b": "service_restaurant",
      "\\b(cairo|\u0627\u0644\u0642\u0627\u0647\u0631\u0629|capital|\u0639\u0627\u0635\u0645\u0629)\\b": "destination_cairo",
      "\\b(hurghada|\u0627\u0644\u063a\u0631\u062f\u0642\u0629|red sea|\u0627\u0644\u0628\u062d\u0631 \u0627\u0644\u0623\u062d\u0645\u0631)\\b": "destination_redsea",
      "\\b(sharm|\u0634\u0631\u0645 \u0627\u0644\u0634\u064a\u062e)\\b": "destination_redsea",
      "\\b(weather|temperature|climate|\u0637\u0642\u0633|\u062d\u0631\u0627\u0631\u0629|\u0645\u0646\u0627\u062e)\\b": "practical_weather",
      "\\b(visa|passport|entry|\u0641\u064a\u0632\u0627|\u062c\u0648\u0627\u0632|\u062f\u062e\u0648\u0644)\\b": "practical_visa",
      "\\b(currency|money|\u062c\u0646\u064a\u0647|\u0646\u0642\u0648\u062f|\u0635\u0631\u0627\u0641\u0629)\\b": "practical_currency",
      "\\b(price|cost|how much|\u0643\u0627\u0645|\u0633\u0639\u0631|\u062a\u0643\u0644\u0641\u0629)\\b": "inquiry_price"
    }
  },
  "database_queries": {
    "hello": {
      "expectation": "should trigger fast-path greeting",
      "source": "fast_path",
      "intent": "greeting",
      "response_type": "quick_response",
      "routing_type": "fast_path",
      "duration": 0.006070137023925781,
      "fallback": false,
      "text_length": 100,
      "success": true
    },
    "help": {
      "expectation": "should trigger fast-path help",
      "source": "fast_path",
      "intent": "help_request",
      "response_type": "help",
      "routing_type": "fast_path",
      "duration": 0.0019161701202392578,
      "fallback": false,
      "text_length": 180,
      "success": true
    },
    "pyramids": {
      "expectation": "could trigger fast-path OR database",
      "source": "unknown",
      "intent": "attraction_info",
      "response_type": "attraction_info",
      "routing_type": "likely_fast_path",
      "duration": 0.005017995834350586,
      "fallback": false,
      "text_length": 187,
      "success": true
    },
    "sphinx": {
      "expectation": "could trigger fast-path OR database",
      "source": "anthropic_llm",
      "intent": "attraction_info",
      "response_type": "attraction_info",
      "routing_type": "llm",
      "duration": 2.885735034942627,
      "fallback": true,
      "text_length": 244,
      "success": true
    },
    "luxor": {
      "expectation": "could trigger fast-path OR database",
      "source": "dialog_manager",
      "intent": null,
      "response_type": "general",
      "routing_type": "likely_fast_path",
      "duration": 0.008193731307983398,
      "fallback": false,
      "text_length": 85,
      "success": true
    },
    "airport transfer options": {
      "expectation": "should use database (practical_info)",
      "source": "dialog_manager",
      "intent": null,
      "response_type": "general",
      "routing_type": "likely_fast_path",
      "duration": 0.0034301280975341797,
      "fallback": false,
      "text_length": 85,
      "success": true
    },
    "what should I tip in restaurants": {
      "expectation": "should use database (practical_info)",
      "source": "database",
      "intent": "practical_info",
      "response_type": "practical_info",
      "routing_type": "database",
      "duration": 1.5504839420318604,
      "fallback": false,
      "text_length": 2742,
      "success": true
    },
    "hotels in cairo": {
      "expectation": "should use database (accommodations)",
      "source": "dialog_manager",
      "intent": "disambiguation_required",
      "response_type": "general",
      "routing_type": "full_processing",
      "duration": 0.25327181816101074,
      "fallback": false,
      "text_length": 85,
      "success": true
    },
    "taxi from airport": {
      "expectation": "should use database (transportation)",
      "source": "database",
      "intent": "practical_info",
      "response_type": "transportation_info",
      "routing_type": "database",
      "duration": 0.33116793632507324,
      "fallback": false,
      "text_length": 41,
      "success": true
    },
    "tell me about pyramid opening hours": {
      "expectation": "database preferred for detailed info",
      "source": "unknown",
      "intent": "attraction_info",
      "response_type": "attraction_info",
      "routing_type": "likely_fast_path",
      "duration": 0.0041637420654296875,
      "fallback": false,
      "text_length": 187,
      "success": true
    },
    "sphinx ticket prices": {
      "expectation": "database preferred for practical info",
      "source": "anthropic_llm",
      "intent": "attraction_info",
      "response_type": "attraction_info",
      "routing_type": "llm",
      "duration": 3.230196952819824,
      "fallback": true,
      "text_length": 267,
      "success": true
    },
    "hotels near pyramids": {
      "expectation": "database preferred for specific searches",
      "source": "dialog_manager",
      "intent": "attraction_info",
      "response_type": "general",
      "routing_type": "full_processing",
      "duration": 0.6793811321258545,
      "fallback": false,
      "text_length": 85,
      "success": true
    },
    "restaurants with traditional food": {
      "expectation": "database preferred for specific searches",
      "source": "dialog_manager",
      "intent": "general_query",
      "response_type": "general",
      "routing_type": "full_processing",
      "duration": 3.4920129776000977,
      "fallback": false,
      "text_length": 85,
      "success": true
    }
  },
  "pattern_conflicts": [],
  "performance_comparison": {
    "fast_path": {
      "count": 2,
      "avg_duration": 0.0039931535720825195,
      "min_duration": 0.0019161701202392578,
      "max_duration": 0.006070137023925781,
      "success_rate": 1.0
    },
    "likely_fast_path": {
      "count": 4,
      "avg_duration": 0.005201399326324463,
      "min_duration": 0.0034301280975341797,
      "max_duration": 0.008193731307983398,
      "success_rate": 1.0
    },
    "llm": {
      "count": 2,
      "avg_duration": 3.0579659938812256,
      "min_duration": 2.885735034942627,
      "max_duration": 3.230196952819824,
      "success_rate": 1.0
    },
    "database": {
      "count": 2,
      "avg_duration": 0.9408259391784668,
      "min_duration": 0.33116793632507324,
      "max_duration": 1.5504839420318604,
      "success_rate": 1.0
    },
    "full_processing": {
      "count": 3,
      "avg_duration": 1.4748886426289876,
      "min_duration": 0.25327181816101074,
      "max_duration": 3.4920129776000977,
      "success_rate": 1.0
    }
  },
  "recommendations": [
    {
      "category": "Intelligence Optimization",
      "priority": "HIGH",
      "issue": "Database showing high success rate but fast-path may be interfering",
      "solution": "Prefer database for content-rich queries, use fast-path only for simple social interactions"
    }
  ]
}