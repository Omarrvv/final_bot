---
description: 
globs: 
alwaysApply: true
---
# Knowledge Base Structure

## Overview

The Egypt Tourism Chatbot's knowledge base exists in two separate forms:

1. **Active Implementation**: Hardcoded Python dictionary `EGYPT_TOURISM_KB` in `app.py`
2. **Target Implementation**: Structured JSON files in the `data/` directory intended to be loaded into SQLite

The critical issue is that the knowledge base component is currently disconnected from both the SQLite database and the JSON files.

## JSON Data Organization

The `data/` directory contains extensively structured JSON files organized in a hierarchical manner:

### Main Categories

- **Attractions**: Historical, cultural, modern, religious, shopping
- **Cities**: Cairo, Luxor, Aswan
- **Accommodations**: Hotels, resorts
- **Restaurants**: Various dining options
- **Transportation**: Metro, flights, cruises
- **Practical Information**: Visa, safety, customs
- **Tours & Activities**: Guided tours, experiences

### Data Structure

Each JSON file typically contains these fields:
- Multilingual content (English/Arabic)
- Location data (coordinates, address)
- Metadata (opening hours, prices, etc.)
- Highlights and descriptions
- Images references

## SQLite Database Schema

The SQLite database schema is defined with the following structure:

### Main Tables

1. **attractions** - Tourist attractions data
2. **cities** - City information
3. **accommodations** - Hotels and resorts
4. **restaurants** - Dining options
5. **transportation** - Transport details
6. **practical_info** - Practical information
7. **users** - User accounts
8. **sessions** - User session data
9. **analytics** - Usage analytics

### Database Population

A script exists for populating the database but the KnowledgeBase component doesn't use it.

## Vector Database (Planned)

A vector database is planned but not implemented for semantic search capabilities.

## Tourism Domain Ontology

The knowledge base contains a rich tourism domain ontology covering:

1. **Cultural-Historical Knowledge** - Ancient Egyptian sites, Islamic heritage, etc.
2. **Geographic Coverage** - Major cities and landmarks with coordinates
3. **Practical Tourism Information** - Visa requirements, currency, safety tips
4. **Experiential Tourism** - Tours, shopping, culinary experiences

## Multilingual Support

The knowledge base consistently includes both English and Arabic versions of content.